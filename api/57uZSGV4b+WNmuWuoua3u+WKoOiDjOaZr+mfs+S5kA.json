{"title":"给Hexo博客添加背景音乐","date":"2020-07-16T08:23:37.000Z","date_formatted":{"ll":"Jul 16, 2020","L":"07/16/2020","MM-DD":"07-16"},"link":"给Hexo博客添加背景音乐","tags":["添加背景音乐"],"categories":["学习"],"updated":"2020-07-16T09:03:31.510Z","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>具体的给背景添加音乐有两种</p>\n<h3 id=\"方案一\">方案一<a href=\"#方案一\" title=\"方案一\"></a></h3><p>话不多说，搭建好博客后装插件。首先通过命令安装以下两个插件（装一个也可以，如果一个实现不了装另一个），在本地Hexo博客文件夹右键执行<code>GIT  BASH</code> ，输入：</p>\n<blockquote>\n<figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"keyword\">install</span> hexo-tag-dplayer</span><br><span class=\"line\">npm <span class=\"keyword\">install</span> hexo-tag-aplayer</span><br></pre></td></tr></table></figure></blockquote>\n<p>运行后会在 <code>blog/node_modules</code> 目录下发现有两个<code>aplayer</code> 和 ``dplayer` 的文件夹。（这个blog文件是你在搭建博客时自定义命名的文件）</p>\n<p>添加音乐，选择添加网易云音乐。搜索你喜欢的音乐，进入详情页，点击生成外链播放器，选择iframe插件，复制如下代码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"position:fixed; top:1px; left:865px;width:50%\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">iframe</span> <span class=\"attr\">frameborder</span>=<span class=\"string\">\"no\"</span> <span class=\"attr\">border</span>=<span class=\"string\">\"1px solid #000\"</span> <span class=\"attr\">marginwidth</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">marginheight</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">width</span>=<span class=\"string\">190</span> <span class=\"attr\">height</span>=<span class=\"string\">86</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//music.163.com/outchain/player?type=2&amp;id=33544176&amp;auto=1&amp;height=66\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">iframe</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>把这段代码放在 <code>blog\\themes\\inside\\layout\\index.swig</code>这个<code>index.swig</code>文件内，</p>\n<p>注意这个div是方便给播放器设置样式，通过<code>auto</code>值修改默认是否播放音乐  0或 1。</p>\n<p>效果如右上。</p>\n<h3 id=\"方案二\">方案二<a href=\"#方案二\" title=\"方案二\"></a></h3><p>音乐使用过程中遇到的问题：<strong>很多音乐由于版权问题无法生成外部链接</strong>，影响网站的SEO。这个时候就用上第二种了。</p>\n<p>首先还是需要安装aplayer插件</p>\n<blockquote>\n<figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"keyword\">install</span> hexo-tag-aplayer</span><br></pre></td></tr></table></figure></blockquote>\n<p>安装后，在需要音乐的地方加上以下代码，参数用法参照<a href=\"https://github.com/MoePlayer/hexo-tag-aplayer\" target=\"_blank\">插件</a>的使用说明</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% aplayer \"歌曲名称\" \"作者\" \"音乐_url\" \"封面图片_url\" \"autoplay\" %&#125;</span><br></pre></td></tr></table></figure><p>注意：<strong>代码直接夹在正文中需要添加音乐播放器的位置</strong></p>\n<p>如果你想加入歌单，把上边的代码换成下边的就行了</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% aplayerlist %&#125;&#123;\"narrow\": false,\"autoplay\": true,\"showlrc\": 3,\"mode\": \"random\",\"music\": [&#123;\"title\": \"时光漫旅\",\"author\": \"刘惜君\",\"url\": \"https://isure.stream.qqmusic.qq.com/C400001Qetub4bGYcW.m4a?guid=90498569&amp;vkey=D36C5F2DB17B843A9998A7A03F7AF9AE1F87A451008739D1B48E7D177F748317CE05A8D51DF81686882990983568ECDA99ACA03EBCC52270&amp;uin=1103&amp;fromtag=38\",\"pic\": \"https://y.gtimg.cn/music/photo_new/T002R150x150M000001wHSy31XDcTg_1.jpg?max_age=2592000\"&#125;,&#123;\"title\": \"遇见\",\"author\": \"孙燕姿\",\"url\": \"https://mv.music.tc.qq.com/E05D11E527258A3BA31F97CBDAB974E4601637CD6AE5A3E469A789D035409781E76BC19FF8C76DDDD31EB651549B17F5ZZqqmusic_default/1049_F0100576002kkTDm4UJDEz1000198388.f10.mp4?fname=1049_F0100576002kkTDm4UJDEz1000198388.f10.mp4\",\"pic\": \"https://y.gtimg.cn/music/photo_new/T002R150x150M000002ehzTm0TxXC2_2.jpg?max_age=2592000\"&#125;]&#125;&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><p>效果如：</p>\n\n        <div id=\"aplayer-IDPlhElh\" class=\"aplayer aplayer-tag-marker\" style=\"margin-bottom: 20px;\"></div>\n\t\t\t  <script>\n\t\t\t\t  var options = {\"narrow\":false,\"autoplay\":false,\"showlrc\":3,\"mode\":\"random\",\"listFolded\":true,\"mutex\":true,\"music\":[{\"title\":\"时光漫旅\",\"author\":\"刘惜君\",\"url\":\"https://isure.stream.qqmusic.qq.com/C400001Qetub4bGYcW.m4a?guid=90498569&vkey=D36C5F2DB17B843A9998A7A03F7AF9AE1F87A451008739D1B48E7D177F748317CE05A8D51DF81686882990983568ECDA99ACA03EBCC52270&uin=1103&fromtag=38\",\"pic\":\"https://y.gtimg.cn/music/photo_new/T002R150x150M000001wHSy31XDcTg_1.jpg?max_age=2592000\"},{\"title\":\"遇见\",\"author\":\"孙燕姿\",\"url\":\"https://mv.music.tc.qq.com/E05D11E527258A3BA31F97CBDAB974E4601637CD6AE5A3E469A789D035409781E76BC19FF8C76DDDD31EB651549B17F5ZZqqmusic_default/1049_F0100576002kkTDm4UJDEz1000198388.f10.mp4?fname=1049_F0100576002kkTDm4UJDEz1000198388.f10.mp4\",\"pic\":\"https://y.gtimg.cn/music/photo_new/T002R150x150M000002ehzTm0TxXC2_2.jpg?max_age=2592000\"}]};\n\t\t\t\t  options.element = document.getElementById(\"aplayer-IDPlhElh\");\n\t\t\t\t  var ap = new APlayer(options);\n\t\t\t    window.aplayers || (window.aplayers = []);\n\t\t\t\t  window.aplayers.push(ap);\n\t\t\t  </script>","prev":{"title":"没文化真可怕","link":"没文化真可怕"},"next":{"title":"Ajax四步和封装","link":"Ajax四步和封装"},"plink":"https://cyapi.github.io/给Hexo博客添加背景音乐/","toc":[{"id":"方案一","title":"方案一","index":"1"},{"id":"方案二","title":"方案二","index":"2"}],"reward":true,"copyright":{"link":"<a href=\"https://cyapi.github.io/给Hexo博客添加背景音乐/\" title=\"给Hexo博客添加背景音乐\">https://cyapi.github.io/给Hexo博客添加背景音乐/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}